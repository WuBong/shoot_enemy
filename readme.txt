오후 5:19 2022-02-06
2학년때 토이프로젝트임

멀티스레드와 소켓을 활용한 게임프로그램임.

스레드를 남발한 탓에 매우 느려질수도있음. 컴퓨터가.

그냥대포게임이고 클라는 수직선상 수평선상 있음. 

서버에서 소켓통신으로 맵데이터를 보내줌 


서버켜놓고
클라3개 들어오면 서버에서 딜레이설정후 게임시작


server>
1.초기 설정값 안개모드 비안개 모드 , 딜레이 

2. 소켓에 accept을 쓰레드로 놓고
어떤 정수값이 증가연산자로 3이 되면은 3인 플레이어 충족되었으니까 
게임시작  

일단 정수형 전달방식 확립

<all>

1. 서버 클라에서  모두 주고 받는건 쓰레드로  
단 대포의 이동함수는 처음 건 딜레이  

오후 9:22 2021-11-17
1. 일단 다중 클라가 s, space, 방향키 전송
2. 서버가 각 클라에게 map 배열 전송
실패 IDE가 안맞아서 오류나는게 너무 많다.

오후 10:35 2021-11-18
그러니까 채팅프로그램 p6 멀티스레드로 여러사용자 불러들이기
야구게임 -> 정수전달 로
대포리스 게임을 만들라는 거지요?

일단은 환경에 맞게 어렵지 않게 다중클라 구현을 했음
어려운줄 알았는데 

오후 4:11 2021-11-19

오후 4:11 2021-11-20

오후 4:11 2021-11-21

오후 9:38 2021-11-22
정수배열 전달을 구현함 바이트방식과 atoi 방식 중에서 atoi 방식으로 해봄.
바이트방식 개빠름 ㄷㄷ 그래도 느림

그래서 thread에 
오후 3:36 2021-11-23
키받는거 각각 thread recv 하면 되지않? 그럼 합쳐지는거 아님?

player0   3456
	789 10
	11 12 13 14

			

1. 플레이어 이동의 구현. 일단. 
오후 11:29 2021-11-23 구현 완료 player2 이상하다.
그리고 둘이상의 쓰레드가 동시에 값을 참조하는것이 안좋다고한다. 그래서 오류가 많이 나는듯
mutex lock걸어서 map[10][10] 뿐만 아니라 동시 참조 못하게
lock 걸꺼
move_player
player_status
그리고 sleep 최대한 넣어서 최적화시키기.

최악의 경우 다 갈아 엎어야 할 수도....

구현완료

2. 스탑 구현
오전 12:07 2021-11-24 구현 완료.

3. 공격은 닿으면 0으로 변함 맵 빼고 그냥 어택을 하고 다시 예전 키값으로 보내기 
오후 4:51 2021-11-24  구현완료.

공격을 존나게 연타할경우 움직이지 않는 버그가 있음
키형식이 아닌 map 형식으로 하면 해결될 것.

4. 클라가 번호받아서 몇번인지 인식하게해서, 서브 가로맵 구현, 안개모드

클라가 번호 받고 그 클라 번호에 따라 
map 값으로 어떤 대포를 보이게 하고 안보이게 하고 결정.

5. 마지막에 상속, 생성자, 소멸자, 추상 조건 클리어하기.
오전 2:59 2021-11-25 끝.